<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Contribution Heatmap â€” XAYTHEON</title>
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">

    <!-- Styles -->
    <link rel="stylesheet" href="style.css?v=3">
    <link rel="stylesheet" href="heatmap.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.44.4/dist/umd/supabase.min.js"></script>

    <!-- App Scripts -->
    <script defer src="auth.js"></script>
    <script defer src="i18n.js"></script>

    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Page Scripts -->
    <script defer src="theme.js"></script>
    <script defer src="heatmap.js"></script>
    <script defer src="boilerplate/boilerplate-loader.js"></script>
</head>

<body class="eightgon-page">
<div class="page-wrapper">

    <!-- Header -->
    <div id="header-placeholder"></div>

    <main class="heatmap-page" role="main">

        <!-- ===== HEATMAP CARD ===== -->
        <article class="card heatmap-card" id="capture-area" aria-labelledby="heatmap-title">

            <header class="heatmap-header">
                <h2 id="heatmap-title">ðŸ”¥ Contribution Heatmap</h2>
                <button id="export-btn" class="btn btn-primary">
                    Export PNG
                </button>
            </header>

            <!-- Heatmap SVG container -->
            <div
                id="heatmap-svg-container"
                class="heatmap-container"
                role="img"
                aria-label="Contribution heatmap showing activity intensity by day"
            >
                <!-- SVG injected by heatmap.js -->
            </div>

            <!-- Legend -->
            <div class="heatmap-legend" aria-label="Heatmap intensity legend">
                <span>Less</span>
                <ul class="legend-colors" role="list">
                    <li role="listitem" aria-label="No contributions"></li>
                    <li role="listitem" aria-label="Low contributions"></li>
                    <li role="listitem" aria-label="Moderate contributions"></li>
                    <li role="listitem" aria-label="High contributions"></li>
                    <li role="listitem" aria-label="Very high contributions"></li>
                </ul>
                <span>More</span>
            </div>

        </article>

        <!-- ===== INSIGHTS SECTION ===== -->
        <section class="insights-section" aria-label="Contribution insights">

            <!-- Streaks -->
            <article class="card insight-card">
                <h3>ðŸ“ˆ Streaks</h3>

                <div class="insight-content">
                    <div class="stat-row">
                        <span class="stat-label">Current Streak</span>
                        <span
                            class="stat-value big"
                            id="current-streak"
                            aria-live="polite"
                            aria-atomic="true"
                        >0 days</span>
                    </div>

                    <div class="stat-row">
                        <span class="stat-label">Longest Streak</span>
                        <span
                            class="stat-value"
                            id="longest-streak"
                            aria-live="polite"
                            aria-atomic="true"
                        >0 days</span>
                    </div>

                    <div class="stat-row">
                        <span class="stat-label">Total Contributions</span>
                        <span
                            class="stat-value"
                            id="total-attrib"
                            aria-live="polite"
                            aria-atomic="true"
                        >0</span>
                    </div>
                </div>
            </article>

            <!-- Productivity -->
            <article class="card insight-card">
                <h3>âš¡ Productivity</h3>

                <div class="insight-content">
                    <div class="stat-row">
                        <span class="stat-label">Best Day</span>
                        <span
                            class="stat-value big"
                            id="best-day"
                            aria-live="polite"
                            aria-atomic="true"
                        >-</span>
                    </div>

                    <div class="stat-row">
                        <span class="stat-label">Most Productive Hour</span>
                        <span
                            class="stat-value"
                            id="best-hour"
                            aria-live="polite"
                            aria-atomic="true"
                        >-</span>
                    </div>

                    <p class="insight-tip" id="insight-tip">
                        Analyze your peak hours to optimize deep work sessions.
                    </p>
                </div>
            </article>

            <!-- Theme Selector -->
            <article class="card insight-card" id="theme-selector-card">
                <h3>ðŸŽ¨ Theme</h3>

                <div class="insight-content">
                    <div
                        class="theme-options"
                        role="radiogroup"
                        aria-label="Heatmap color themes"
                    >
                        <button
                            class="theme-btn active"
                            data-theme="default"
                            style="background:var(--accent-color)"
                            role="radio"
                            aria-checked="true"
                            tabindex="0"
                            aria-label="Default theme"
                        ></button>

                        <button
                            class="theme-btn"
                            data-theme="fire"
                            style="background:#f59e0b"
                            role="radio"
                            aria-checked="false"
                            tabindex="-1"
                            aria-label="Fire theme"
                        ></button>

                        <button
                            class="theme-btn"
                            data-theme="ocean"
                            style="background:#0ea5e9"
                            role="radio"
                            aria-checked="false"
                            tabindex="-1"
                            aria-label="Ocean theme"
                        ></button>

                        <button
                            class="theme-btn"
                            data-theme="forest"
                            style="background:#22c55e"
                            role="radio"
                            aria-checked="false"
                            tabindex="-1"
                            aria-label="Forest theme"
                        ></button>

                        <button
                            class="theme-btn"
                            data-theme="pink"
                            style="background:#ec4899"
                            role="radio"
                            aria-checked="false"
                            tabindex="-1"
                            aria-label="Pink theme"
                        ></button>
                    </div>

                    <p class="theme-help">
                        Select a color palette for your graph.
                    </p>
                </div>
            </article>

        </section>

    </main>

    <!-- Footer -->
    <div id="footer-placeholder"></div>

</div>
</body>
</html>
